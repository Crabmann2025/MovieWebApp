{% extends "base.html" %}

{% block content %}
<div class="container last">
  <h2 class="section-title">{{ user_name }}'s Movies</h2>

  <!-- Film hinzufügen -->
  <form method="POST" action="{{ url_for('add_movie', user_id=user_id) }}" class="form-dark">
    <input type="text" name="title" placeholder="Enter film title" required>
    <button type="submit">Add</button>
  </form>

  <!-- Film Grid -->
  <div class="movie-grid">
    {% for movie in movies %}
      <div class="movie-card">
        {% if movie.poster_url %}
          <!-- Poster Wrapper mit Link -->
          <div class="poster-wrapper">
            <a href="{{ url_for('movie_detail', user_id=user_id, movie_id=movie.id) }}">
              <img src="{{ movie.poster_url }}" alt="{{ movie.name }}">
              <div class="movie-overlay">
                <div class="movie-info">
                  <strong>{{ movie.name }}</strong><br>
                  <small>{{ movie.year }} – {{ movie.director }}</small>
                </div>
              </div>
            </a>
          </div>
        {% else %}
          <div class="poster-placeholder">{{ movie.name }}</div>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
