{% extends "base.html" %}

{% block content %}
<div class="container">
  <h2 class="section-title">Bearbeite: {{ movie.name }} ({{ movie.year }})</h2>

  <div class="movie-detail-grid">
    <!-- Poster -->
    <div class="poster-detail">
      <img src="{{ movie.poster_url }}" alt="{{ movie.name }}">
    </div>

    <!-- Meta Infos & Edit Form -->
    <div class="movie-info-detail">
      <h3>{{ movie.name }}</h3>
      <p><strong>Regisseur:</strong> {{ movie.director }}</p>

      <!-- Buttons & Form -->
      <div class="movie-detail-buttons">

        <!-- Update Movie Form -->
        <form method="POST" action="{{ url_for('update_movie', user_id=user_id, movie_id=movie.id) }}">
          <input type="text" name="name" placeholder="Neuer Titel" value="{{ movie.name }}" required>
          <input type="text" name="director" placeholder="Neuer Regisseur" value="{{ movie.director }}">
          <input type="text" name="actors" placeholder="Neue Schauspieler" value="{{ movie.actors }}">
          <textarea name="plot" placeholder="Neuer Plot">{{ movie.plot }}</textarea>
          <button type="submit" class="update-btn">Aktualisieren</button>
        </form>

        <!-- Delete Movie Form -->
        <form method="POST" action="{{ url_for('delete_movie', user_id=user_id, movie_id=movie.id) }}">
          <button type="submit" class="delete-btn">LÃ¶schen</button>
        </form>

      </div>
    </div>

    <!-- Extra Info (optional) -->
    <div class="movie-extra-box">
      <h4>Actors</h4>
      {% if movie.actors %}
        <p>{{ movie.actors }}</p>
      {% else %}
        <p><em>Keine Schauspieler gespeichert.</em></p>
      {% endif %}

      <h4>Plot</h4>
      {% if movie.plot %}
        <p>{{ movie.plot }}</p>
      {% else %}
        <p><em>Keine Handlung gespeichert.</em></p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
