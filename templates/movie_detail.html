{% extends "base.html" %}

{% block content %}
<div class="container">

  <div class="movie-detail-grid">
    <!-- Poster -->
    <div class="poster-detail">
      <img src="{{ movie.poster_url }}" alt="{{ movie.name }}">
    </div>

    <!-- Info-Kasten -->
    <div class="movie-extra-box">
      <h2 class="section-title">{{ movie.name }} ({{ movie.year }})</h2>

      <h4>Actors</h4>
      {% if movie.actors %}
        <p>{{ movie.actors }}</p>
      {% else %}
        <p><em>Keine Schauspieler gespeichert.</em></p>
      {% endif %}

      <h4>Plot</h4>
      {% if movie.plot %}
        <p>{{ movie.plot }}</p>
      {% else %}
        <p><em>Keine Handlung gespeichert.</em></p>
      {% endif %}

      <p><strong>Regisseur:</strong> {{ movie.director }}</p>

      <!-- Interaktives Bewertungssystem -->
      <h4>Rates</h4>
      <form action="{{ url_for('rate_movie', user_id=user_id, movie_id=movie.id) }}" method="POST" id="rating-form">
        <div class="stars">
          {% for i in range(10,0,-1) %}
            {# Sterne von 10 bis 1 #}
            <input type="radio" name="rating" id="star{{ i }}" value="{{ i }}" {% if movie.rating == i %}checked{% endif %}>
            <label for="star{{ i }}" title="{{ i }} Sterne">â˜…</label>
          {% endfor %}
        </div>
        <button type="submit" class="update-btn" style="margin-top:10px;">Evaluate</button>
      </form>

      {% if movie.rating %}
        <p>Aktuelle Bewertung: {{ movie.rating }} von 5 Sternen</p>
      {% endif %}
    </div>

    <!-- Edit Button -->
    <div style="margin-top: 20px; padding-left: 40px;">
      <a href="{{ url_for('edit_movie', user_id=user_id, movie_id=movie.id) }}" class="update-btn">
        Edit film
      </a>
    </div>

  </div>
</div>
{% endblock %}
